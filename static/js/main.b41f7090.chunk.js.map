{"version":3,"sources":["serviceWorker.js","components/Gallery/GalleryContext.js","components/GalleryPreview/GalleryPreview.js","components/GalleryPreview/index.js","components/GalleryFigure/index.js","components/GalleryFigure/GalleryFigure.js","lib/utils.js","components/Gallery/index.js","components/Gallery/Gallery.js","components/Logo/Logo.js","components/Logo/index.js","lib/icons.js","components/Contact/index.js","components/Contact/Contact.js","components/Menu/index.js","components/Menu/Menu.js","components/Nav/index.js","components/Nav/Nav.js","components/App/App.js","components/App/index.js","index.js"],"names":["Boolean","window","location","hostname","match","GalleryContext","React","GalleryPreview","props","keyboardHandler","event","key","clickOff","navigateGallery","state","index","currentIndex","direction","newIndex","context","length","setState","isImageVisible","title","url","id","setTimeout","el","document","createElement","isOpen","getElementById","appendChild","this","body","classList","add","disableBodyScroll","addEventListener","removeChild","remove","enableBodyScroll","removeEventListener","className","ReactDOM","createPortal","classNames","open","onClick","visible","src","alt","contextType","GalleryFigure","handleClick","previewMode","dismissPreview","shuffle","a","j","x","i","Math","floor","random","Gallery","photos","galleryElem","masonry","Masonry","itemSelector","columnWidth","percentPosition","transitionDuration","initLayout","imagesLoaded","on","instance","image","isLoaded","IntersectionObserver","observer","entries","forEach","entry","intersectionRatio","img","unobserve","threshold","observe","layout","parentElement","galleryContent","map","photo","Provider","value","Logo","size","withName","width","height","viewBox","xmlns","d","defaultProps","weibo","email","instagram","twitter","menu","Contact","_handleContactClick","contactMethod","currentTarget","dataset","method","ReactGA","category","action","label","data-method","href","target","rel","icons","Menu","dismissMenu","Nav","openMenu","isMenuOpen","App","render","initialize","pageview","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b41f7090.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from 'react';\n\nexport const GalleryContext = React.createContext();\n","import './GalleryPreview.scss';\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { GalleryContext } from '../Gallery/GalleryContext';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nclass GalleryPreview extends React.PureComponent {\n  static propTypes = {\n    className: PropTypes.string,\n    clickOff: PropTypes.func,\n    index: PropTypes.number.isRequired,\n    title: PropTypes.string,\n    url: PropTypes.string.isRequired\n  };\n\n  static contextType = GalleryContext;\n\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n    this.state = {\n      index: this.props.index,\n      isImageVisible: false,\n      isOpen: false,\n      title: this.props.title,\n      url: this.props.url\n    };\n  }\n\n  componentDidMount() {\n    document.getElementById('root').appendChild(this.el);\n    document.body.classList.add('modal-open');\n    disableBodyScroll(this.el);\n    document.addEventListener('keydown', this.keyboardHandler);\n    setTimeout(() => {\n      this.setState({\n        isOpen: true,\n        isImageVisible: true\n      });\n    }, 10);\n  }\n\n  componentWillUnmount() {\n    document.getElementById('root').removeChild(this.el);\n    document.body.classList.remove('modal-open');\n    enableBodyScroll(this.el);\n    document.removeEventListener('keydown', this.keyboardHandler);\n  }\n\n  keyboardHandler = event => {\n    if (event.key === 'Escape') {\n      this.props.clickOff();\n    } else if (event.key === 'ArrowLeft') {\n      this.navigateGallery(this.state.index, 'PREVIOUS');\n    } else if (event.key === 'ArrowRight') {\n      this.navigateGallery(this.state.index, 'NEXT');\n    } else {\n      return false;\n    }\n  };\n\n  navigateGallery = (currentIndex, direction) => {\n    let newIndex;\n    if (direction === 'PREVIOUS') {\n      newIndex = currentIndex === 0 ? this.context.length - 1 : currentIndex - 1;\n    } else if (direction === 'NEXT') {\n      newIndex = currentIndex === this.context.length - 1 ? 0 : currentIndex + 1;\n    } else {\n      return false;\n    }\n    this.setState({\n      isImageVisible: false,\n      index: newIndex,\n      title: this.context[newIndex].title,\n      url: `./photos/${this.context[newIndex].id}.jpg`\n    });\n    setTimeout(() => {\n      this.setState({\n        isImageVisible: true\n      });\n    }, 100);\n  };\n\n  render() {\n    const { className, clickOff } = this.props;\n    const { isImageVisible, isOpen, title, url } = this.state;\n\n    return ReactDOM.createPortal(\n      <div className={classNames('GalleryPreview', { open: isOpen }, className)}>\n        <div className=\"GalleryPreview-backdrop\"></div>\n        <figure className=\"GalleryPreview-figure\" onClick={clickOff}>\n          {isImageVisible && <img className={classNames({ visible: isImageVisible })} src={url} alt={title} />}\n        </figure>\n      </div>,\n      this.el\n    );\n  }\n}\n\nexport default GalleryPreview;\n","import GalleryPreview from './GalleryPreview';\nexport default GalleryPreview;\n","import GalleryFigure from './GalleryFigure';\nexport default GalleryFigure;\n","import './GalleryFigure.scss';\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport GalleryPreview from '../GalleryPreview';\nimport PropTypes from 'prop-types';\n\nclass GalleryFigure extends React.PureComponent {\n  static propTypes = {\n    className: PropTypes.string,\n    index: PropTypes.number.isRequired,\n    title: PropTypes.string,\n    url: PropTypes.string.isRequired\n  };\n\n  constructor() {\n    super();\n    this.state = {\n      previewMode: false\n    };\n  }\n\n  handleClick = () => {\n    this.setState({\n      previewMode: true\n    });\n  };\n\n  dismissPreview = () => {\n    this.setState({\n      previewMode: false\n    });\n  };\n\n  render() {\n    const { className, index, title, url } = this.props;\n    const { previewMode } = this.state;\n\n    return (\n      <figure className={classNames('GalleryFigure', className)}>\n        <img src={url} alt={title} onClick={this.handleClick} />\n        {previewMode && <GalleryPreview clickOff={this.dismissPreview} index={index} url={url} title={title} />}\n      </figure>\n    );\n  }\n}\n\nexport default GalleryFigure;\n","// Util function to shuffle array in place\nfunction shuffle(a) {\n  var j, x, i;\n  for (i = a.length - 1; i > 0; i--) {\n    j = Math.floor(Math.random() * (i + 1));\n    x = a[i];\n    a[i] = a[j];\n    a[j] = x;\n  }\n  return a;\n}\n\nexport { shuffle };\n","import Gallery from './Gallery';\nexport default Gallery;\n","import './Gallery.scss';\nimport * as React from 'react';\nimport { GalleryContext } from './GalleryContext';\nimport GalleryFigure from '../GalleryFigure';\nimport imagesLoaded from 'imagesloaded';\nimport Masonry from 'masonry-layout';\nimport photos from './photos';\nimport { shuffle } from '../../lib/utils';\n\nclass Gallery extends React.PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      photos: shuffle(photos)\n    };\n  }\n\n  componentDidMount() {\n    const galleryElem = document.getElementById('Gallery');\n\n    this.masonry = new Masonry(galleryElem, {\n      itemSelector: '.Gallery-item',\n      columnWidth: '.Gallery-sizer',\n      percentPosition: true,\n      transitionDuration: '0.2s',\n      initLayout: false\n    });\n\n    imagesLoaded(galleryElem).on('progress', (instance, image) => {\n      if (image.isLoaded) {\n        if (window.IntersectionObserver) {\n          let observer = new IntersectionObserver(\n            entries => {\n              entries.forEach(entry => {\n                if (entry.intersectionRatio > 0.3) {\n                  image.img.className = 'visible';\n                  observer.unobserve(image.img);\n                }\n              });\n            },\n            {\n              threshold: 0.3\n            }\n          );\n          observer.observe(image.img);\n        } else {\n          image.img.className = 'visible';\n        }\n\n        //Re-layout when image loaded\n        this.masonry.layout();\n      } else {\n        //Remove broken images\n        image.img.parentElement.remove();\n      }\n    });\n  }\n\n  render() {\n    const galleryContent = this.state.photos.map((photo, index) => (\n      <GalleryFigure\n        className=\"Gallery-item\"\n        index={index}\n        key={photo.id}\n        title={photo.title}\n        url={`./photos/${photo.id}.jpg`}\n      />\n    ));\n\n    return (\n      <GalleryContext.Provider value={this.state.photos}>\n        <div className=\"Gallery\" id=\"Gallery\">\n          <div className=\"Gallery-sizer\"></div>\n          {galleryContent}\n        </div>\n      </GalleryContext.Provider>\n    );\n  }\n}\n\nexport default Gallery;\n","import './Logo.scss';\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nclass Logo extends React.Component {\n  static propTypes = {\n    className: PropTypes.string,\n    size: PropTypes.oneOf(['large', 'small']),\n    withName: PropTypes.bool\n  };\n\n  static defaultProps = {\n    size: 'large',\n    withName: true\n  };\n\n  render() {\n    const { className, size, withName } = this.props;\n    return (\n      <div className={classNames('Logo', `Logo--${size}`, className)}>\n        <svg className=\"Logo-icon\" width=\"54px\" height=\"54px\" viewBox=\"0 0 54 54\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M29,23 L29,9 L31,9 L43,9 L45,9 L45,25 L43,25 L29,25 L29,23 Z M33,21 L41,21 L41,13 L33,13 L33,21 Z M0,52 L0,0 L2,0 L52,0 L54,0 L54,54 L52,54 L0,54 L0,52 Z M4,50 L50,50 L50,4 L4,4 L4,50 Z M39,29 L43,29 L43,45 L39,45 L39,29 Z M31,29 L35,29 L35,45 L31,45 L31,29 Z M21,25 L25,25 L25,37 L21,37 L21,25 Z M15,25 L19,25 L19,45 L15,45 L15,25 Z M9,25 L13,25 L13,37 L9,37 L9,25 Z M9,17 L25,17 L25,21 L9,21 L9,17 Z M12,9 L22,9 L22,13 L12,13 L12,9 Z\" />\n        </svg>\n        {withName && (\n          <span className=\"Logo-name\">\n            Chengqi <b>Zhu</b>\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Logo;\n","import Logo from './Logo';\nexport default Logo;\n","import * as React from 'react';\n\nexport default {\n  weibo: (\n    <svg className=\"weibo\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"m457.3 543c-68.1-17.7-145 16.2-174.6 76.2-30.1 61.2-1 129.1 67.8 151.3 71.2 23 155.2-12.2 184.4-78.3 28.7-64.6-7.2-131-77.6-149.2zm-52 156.2c-13.8 22.1-43.5 31.7-65.8 21.6-22-10-28.5-35.7-14.6-57.2 13.7-21.4 42.3-31 64.4-21.7 22.4 9.5 29.6 35 16 57.3zm45.5-58.5c-5 8.6-16.1 12.7-24.7 9.1-8.5-3.5-11.2-13.1-6.4-21.5 5-8.4 15.6-12.4 24.1-9.1 8.7 3.2 11.8 12.9 7 21.5zm334.5-197.2c15 4.8 31-3.4 35.9-18.3 11.8-36.6 4.4-78.4-23.2-109s-68.4-42.3-106-34.3c-15.4 3.3-25.2 18.4-21.9 33.8 3.3 15.3 18.4 25.2 33.8 21.8 18.4-3.9 38.3 1.8 51.9 16.7 13.5 15 17.2 35.4 11.3 53.3-4.9 15.1 3.2 31.1 18.2 36z\" />\n      <path d=\"m885.1 237.5c-56.7-62.9-140.4-86.9-217.7-70.5-17.9 3.8-29.3 21.4-25.4 39.3 3.8 17.9 21.4 29.3 39.3 25.5 55-11.7 114.4 5.4 154.8 50.1 40.3 44.7 51.2 105.7 34 159.1-5.6 17.4 3.9 36 21.3 41.7 17.4 5.6 36-3.9 41.6-21.2v-.1c24.1-75.4 8.9-161.1-47.9-223.9zm-156.1 261.5c-12.2-3.6-20.5-6.1-14.1-22.1 13.8-34.7 15.2-64.7.3-86-28-40.1-104.8-37.9-192.8-1.1 0 0-27.6 12.1-20.6-9.8 13.5-43.5 11.5-79.9-9.6-101-47.7-47.8-174.6 1.8-283.5 110.6-81.4 81.5-128.7 167.9-128.7 242.6 0 142.9 183.2 229.8 362.5 229.8 235 0 391.3-136.5 391.3-245 0-65.5-55.2-102.6-104.8-118zm-286 311.8c-143 14.1-266.5-50.5-275.8-144.5-9.3-93.9 99.2-181.5 242.2-195.6 143-14.2 266.5 50.5 275.8 144.4 9.2 93.9-99.2 181.5-242.2 195.7z\" />\n    </svg>\n  ),\n  email: (\n    <svg className=\"email\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M831.936 768L192 768.192V378.304l302.816 192.704a32.096 32.096 0 0 0 34.4 0L832 378.304 831.936 768zM192 255.776L192.096 256 832 255.776v46.656l-320 203.616L192 302.432V255.776zM831.936 192H192.096A64 64 0 0 0 128 255.776v512.416C128 803.36 156.768 832 192.096 832h639.84A64 64 0 0 0 896 768.192V255.776A64 64 0 0 0 831.936 192z\" />\n    </svg>\n  ),\n  instagram: (\n    <svg className=\"instagram\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M17.34,5.46h0a1.2,1.2,0,1,0,1.2,1.2A1.2,1.2,0,0,0,17.34,5.46Zm4.6,2.42a7.59,7.59,0,0,0-.46-2.43,4.94,4.94,0,0,0-1.16-1.77,4.7,4.7,0,0,0-1.77-1.15,7.3,7.3,0,0,0-2.43-.47C15.06,2,14.72,2,12,2s-3.06,0-4.12.06a7.3,7.3,0,0,0-2.43.47A4.78,4.78,0,0,0,3.68,3.68,4.7,4.7,0,0,0,2.53,5.45a7.3,7.3,0,0,0-.47,2.43C2,8.94,2,9.28,2,12s0,3.06.06,4.12a7.3,7.3,0,0,0,.47,2.43,4.7,4.7,0,0,0,1.15,1.77,4.78,4.78,0,0,0,1.77,1.15,7.3,7.3,0,0,0,2.43.47C8.94,22,9.28,22,12,22s3.06,0,4.12-.06a7.3,7.3,0,0,0,2.43-.47,4.7,4.7,0,0,0,1.77-1.15,4.85,4.85,0,0,0,1.16-1.77,7.59,7.59,0,0,0,.46-2.43c0-1.06.06-1.4.06-4.12S22,8.94,21.94,7.88ZM20.14,16a5.61,5.61,0,0,1-.34,1.86,3.06,3.06,0,0,1-.75,1.15,3.19,3.19,0,0,1-1.15.75,5.61,5.61,0,0,1-1.86.34c-1,.05-1.37.06-4,.06s-3,0-4-.06A5.73,5.73,0,0,1,6.1,19.8,3.27,3.27,0,0,1,5,19.05a3,3,0,0,1-.74-1.15A5.54,5.54,0,0,1,3.86,16c0-1-.06-1.37-.06-4s0-3,.06-4A5.54,5.54,0,0,1,4.21,6.1,3,3,0,0,1,5,5,3.14,3.14,0,0,1,6.1,4.2,5.73,5.73,0,0,1,8,3.86c1,0,1.37-.06,4-.06s3,0,4,.06a5.61,5.61,0,0,1,1.86.34A3.06,3.06,0,0,1,19.05,5,3.06,3.06,0,0,1,19.8,6.1,5.61,5.61,0,0,1,20.14,8c.05,1,.06,1.37.06,4S20.19,15,20.14,16ZM12,6.87A5.13,5.13,0,1,0,17.14,12,5.12,5.12,0,0,0,12,6.87Zm0,8.46A3.33,3.33,0,1,1,15.33,12,3.33,3.33,0,0,1,12,15.33Z\" />\n    </svg>\n  ),\n  twitter: (\n    <svg className=\"twitter\" viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z\" />\n    </svg>\n  ),\n  menu: (\n    <svg className=\"menu\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zM904 784H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zM904 472H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z\" />\n    </svg>\n  )\n};\n","import Contact from './Contact';\nexport default Contact;\n","import './Contact.scss';\nimport * as React from 'react';\nimport icons from '../../lib/icons';\nimport ReactGA from 'react-ga';\n\nclass Contact extends React.PureComponent {\n  _handleContactClick = event => {\n    const contactMethod = event.currentTarget.dataset.method;\n    ReactGA.event({\n      category: 'Contact',\n      action: 'Click',\n      label: contactMethod\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"Contact\">\n        <a\n          className=\"Contact-link\"\n          data-method=\"Weibo\"\n          href=\"https://www.weibo.com/leonate\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={this._handleContactClick}\n        >\n          {icons.weibo}\n        </a>\n        <a\n          className=\"Contact-link\"\n          data-method=\"Instagram\"\n          href=\"https://www.instagram.com/aprilopus/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={this._handleContactClick}\n        >\n          {icons.instagram}\n        </a>\n        <a\n          className=\"Contact-link\"\n          data-method=\"Twitter\"\n          href=\"https://twitter.com/aprilopus\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={this._handleContactClick}\n        >\n          {icons.twitter}\n        </a>\n        <a\n          className=\"Contact-link\"\n          data-method=\"Email\"\n          href=\"mailto:chengqizhufm@gmail.com\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={this._handleContactClick}\n        >\n          {icons.email}\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default Contact;\n","import Menu from './Menu';\nexport default Menu;\n","import './Menu.scss';\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Contact from '../Contact';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nclass Menu extends React.PureComponent {\n  static propTypes = {\n    className: PropTypes.string,\n    clickOff: PropTypes.func\n  };\n\n  constructor() {\n    super();\n    this.el = document.createElement('div');\n    this.state = {\n      isOpen: false\n    };\n  }\n\n  componentDidMount() {\n    document.getElementById('root').appendChild(this.el);\n    document.body.classList.add('modal-open');\n    disableBodyScroll(this.el);\n    setTimeout(() => {\n      this.setState({\n        isOpen: true\n      });\n    }, 10);\n  }\n\n  componentWillUnmount() {\n    document.getElementById('root').removeChild(this.el);\n    document.body.classList.remove('modal-open');\n    enableBodyScroll(this.el);\n  }\n\n  dismissMenu = () => {\n    this.setState({\n      isOpen: false\n    });\n    setTimeout(() => {\n      this.props.clickOff();\n    }, 300);\n  };\n\n  render() {\n    const { className } = this.props;\n    const { isOpen } = this.state;\n\n    return ReactDOM.createPortal(\n      <div className={classNames('Menu', { open: isOpen }, className)}>\n        <div className=\"Menu-backdrop\" onClick={this.dismissMenu}></div>\n        <div className=\"Menu-panel\">\n          <h2>Contact me</h2>\n          <Contact />\n          <p>Designed by Chengqi Zhu &copy; 2019</p>\n        </div>\n      </div>,\n      this.el\n    );\n  }\n}\n\nexport default Menu;\n","import Nav from './Nav';\nexport default Nav;\n","import './Nav.scss';\nimport * as React from 'react';\nimport Contact from '../Contact';\nimport icons from '../../lib/icons';\nimport Menu from '../Menu';\n\nclass Nav extends React.PureComponent {\n  constructor() {\n    super();\n    this.state = {\n      isMenuOpen: false\n    };\n  }\n\n  openMenu = () => {\n    this.setState({\n      isMenuOpen: true\n    });\n  };\n\n  dismissMenu = () => {\n    this.setState({\n      isMenuOpen: false\n    });\n  };\n\n  render() {\n    const { isMenuOpen } = this.state;\n    return (\n      <nav className=\"Nav\">\n        <div className=\"Nav-desktop\">\n          <Contact />\n        </div>\n        <div className=\"Nav-mobile\">\n          <div className=\"Nav-menuIcon\" onClick={this.openMenu}>\n            {icons.menu}\n          </div>\n          {isMenuOpen && <Menu clickOff={this.dismissMenu} />}\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Nav;\n","import './App.scss';\nimport * as React from 'react';\nimport Gallery from '../Gallery';\nimport Logo from '../Logo';\nimport Nav from '../Nav';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Logo />\n        <Nav />\n      </header>\n      <Gallery />\n      <footer className=\"App-footer\">\n        <p>Designed by Chengqi Zhu &copy; 2019</p>\n        <Logo size=\"small\" withName={false} />\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","import App from './App';\nexport default App;\n","import './index.scss';\nimport * as React from 'react';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/App';\nimport ReactGA from 'react-ga';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// Google Analytics\nReactGA.initialize('UA-75265785-2');\nReactGA.pageview('/');\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}